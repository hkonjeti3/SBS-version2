<app-header-admin></app-header-admin>

<div class="admin-dashboard">
  <div class="home-content">
    <div class="welcome-section">
      <div class="welcome-card">
        <div class="welcome-header">
          <div class="user-info">
            <div class="user-avatar">
              <i class="pi pi-shield"></i>
            </div>
            <div class="user-details">
              <h1>Welcome back, Admin!</h1>
              <p>Here's what's happening with the banking system today</p>
            </div>
          </div>
          <div class="date-info">
            <i class="pi pi-calendar"></i>
            <span>{{ currentDate | date:'EEEE, MMMM d, y' }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="dashboard-grid">
      <!-- Quick Actions Card -->
      <div class="dashboard-card quick-actions">
        <div class="card-header">
          <i class="pi pi-bolt"></i>
          <h3>Quick Actions</h3>
        </div>
        <div class="card-content">
          <div class="action-buttons">
            <button class="action-btn" routerLink="/admin/user-management">
              <i class="pi pi-users"></i>
              <span>Manage Users</span>
            </button>
            <button class="action-btn" routerLink="/admin/transaction-list">
              <i class="pi pi-list"></i>
              <span>Transaction List</span>
            </button>
            <button class="action-btn" routerLink="/admin/approvals/profile">
              <i class="pi pi-clock"></i>
              <span>Profile Approvals</span>
            </button>
            <button class="action-btn" routerLink="/admin/approvals/accounts">
              <i class="pi pi-clock"></i>
              <span>Account Approvals</span>
            </button>
          </div>
        </div>
      </div>

      <!-- System Summary Card -->
      <div class="dashboard-card system-summary">
        <div class="card-header">
          <i class="pi pi-chart-bar"></i>
          <h3>System Summary</h3>
        </div>
        <div class="card-content">
          <div class="account-stats">
            <div class="stat-item">
              <div class="stat-value">{{ totalUsers || 0 }}</div>
              <div class="stat-label">Total Users</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">{{ totalAccounts || 0 }}</div>
              <div class="stat-label">Total Accounts</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">{{ pendingTransactions || 0 }}</div>
              <div class="stat-label">Pending Transactions</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">{{ (pendingAccountRequests.length || 0) + (pendingProfileRequests.length || 0) }}</div>
              <div class="stat-label">Pending Approvals</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Activity Card -->
      <div class="dashboard-card recent-activity">
        <div class="card-header">
          <i class="pi pi-clock"></i>
          <h3>Recent Activity</h3>
        </div>
        <div class="card-content">
          <div class="activity-list">
            <div class="activity-item" *ngFor="let activity of recentActivities; let i = index">
              <div class="activity-icon">
                <i [class]="activity.icon"></i>
              </div>
              <div class="activity-details">
                <div class="activity-title">{{ activity.title }}</div>
                <div class="activity-time">{{ activity.time }}</div>
              </div>
              <div class="activity-amount" [class]="activity.type">
                {{ activity.amount }}
              </div>
            </div>
            <div class="no-activity" *ngIf="!recentActivities || recentActivities.length === 0">
              <i class="pi pi-info-circle"></i>
              <p>No recent activity</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
